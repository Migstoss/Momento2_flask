{% extends "template.html" %}

{% block content %}
<div class="row">
  <div class="col-md-8">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert success alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
  </div>
</div>
<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Image</th>
      <th scope="col">Title</th>
      <th scope="col">Price</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for property in properties %}
      <tr>
        <td>{{property['_id']}}</td>
        <td><img width="100" height="100" src="{{property['image']}}"/></td>
        <td>{{property['title']}}</td>
        <td>{{property['price']}}</td>
        <td>          
          <a href="/edit?id={{property['_id']}}" class="btn btn-primary">Edit</a>
          <a href="/delete?id={{property['_id']}}" class="btn btn-danger btn-delete">Delete</a>
        </td>     
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}